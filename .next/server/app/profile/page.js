(()=>{var e={};e.id=4178,e.ids=[4178],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1553:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>m,routeModule:()=>p,tree:()=>o});var r=a(3137),t=a(4647),i=a(4183),l=a.n(i),d=a(1775),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);a.d(s,n);let c=r.AppPageRouteModule,o=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3856)),"C:\\TaskFolder\\my-center-\\cripcocoede-it-tech\\LOCAL-ZARURAT\\LocalZaruratFinalUserUI\\app\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,959)),"C:\\TaskFolder\\my-center-\\cripcocoede-it-tech\\LOCAL-ZARURAT\\LocalZaruratFinalUserUI\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,1918,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\TaskFolder\\my-center-\\cripcocoede-it-tech\\LOCAL-ZARURAT\\LocalZaruratFinalUserUI\\app\\profile\\page.tsx"],x="/profile/page",h={require:a,loadChunk:()=>Promise.resolve()},p=new c({definition:{kind:t.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},616:(e,s,a)=>{Promise.resolve().then(a.bind(a,2824))},2824:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>T});var r=a(80),t=a(9885),i=a(1440),l=a.n(i),d=a(7114),n=a(6558),c=a(3894),o=a(9098),m=a(6904),x=a(7936),h=a(8384),p=a(9424),u=a(3478),j=a(7052),f=a(1704),g=a(5520),N=a(3161);let y=t.forwardRef(({className:e,...s},a)=>r.jsx(g.fC,{ref:a,className:(0,N.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));y.displayName=g.fC.displayName;let v=t.forwardRef(({className:e,...s},a)=>r.jsx(g.Ee,{ref:a,className:(0,N.cn)("aspect-square h-full w-full",e),...s}));v.displayName=g.Ee.displayName;let b=t.forwardRef(({className:e,...s},a)=>r.jsx(g.NY,{ref:a,className:(0,N.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));b.displayName=g.NY.displayName;var w=a(4796),Z=a(501),P=a(9803),_=a(6253),C=a(4571),A=a(9763),L=a(5441),F=a(92),S=a(4010),R=a(6206),E=a(2995),I=a(3680),V=a(7094),k=a(4901),q=a(7158);function U({children:e,requireAuth:s=!0,redirectTo:a=q.Z6.LOGIN}){let{user:i,loading:l,isAuthenticated:n}=(0,m.useAuth)(),c=(0,d.useRouter)();return((0,t.useEffect)(()=>{l||(s&&!n?c.push(a):!s&&n&&c.push(q.Z6.HOME))},[i,l,n,s,a,c]),l)?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s&&n||!s&&!n?r.jsx(r.Fragment,{children:e}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),r.jsx("p",{className:"text-gray-600",children:"Redirecting..."})]})})}let O=o.Ry({name:o.Z_().min(2,"Name must be at least 2 characters"),phone:o.Z_().min(10,"Phone number must be at least 10 characters"),address:o.Ry({street:o.Z_().min(1,"Street address is required"),city:o.Z_().min(1,"City is required"),state:o.Z_().min(1,"State is required"),pincode:o.Z_().min(6,"Pincode must be at least 6 characters")})});function T(){let{user:e,token:s,logout:a,refreshUser:i}=(0,m.useAuth)(),[o,g]=(0,t.useState)(!1),[N,T]=(0,t.useState)(!1),[z,M]=(0,t.useState)(null),[G,D]=(0,t.useState)(null),Y=(0,d.useRouter)(),{register:H,handleSubmit:X,formState:{errors:$},reset:B}=(0,n.cI)({resolver:(0,c.F)(O)});(0,t.useEffect)(()=>{e&&B({name:e.name,phone:e.phone,address:{street:e.address.street,city:e.address.city,state:e.address.state,pincode:e.address.pincode}})},[e,B]);let J=async e=>{if(s)try{T(!0),M(null),D(null),await (0,x.ck)(s,e),await i(),D("Profile updated successfully!"),g(!1)}catch(e){M(e.message||"Failed to update profile. Please try again.")}finally{T(!1)}},K=async()=>{try{await a(),Y.push(q.Z6.HOME)}catch(e){console.error("Logout failed:",e)}};return e?r.jsx(U,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(l(),{href:"/",className:"flex items-center select-none",children:[r.jsx("span",{className:"text-xl md:text-2xl font-bold text-blue-600",children:"Local"}),r.jsx("span",{className:"text-xl md:text-2xl font-bold text-orange-500 ml-1",children:"Zarurat"})]}),(0,r.jsxs)(l(),{href:"/",className:"flex items-center gap-2 text-gray-600 hover:text-blue-600 transition-colors",children:[r.jsx(P.Z,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Back to Home"})]})]})})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:(0,r.jsxs)(j.Zb,{children:[(0,r.jsxs)(j.Ol,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:(0,r.jsxs)(y,{className:"w-24 h-24",children:[r.jsx(v,{src:e.profileImage||void 0}),r.jsx(b,{className:"text-2xl",children:e.name.split(" ").map(e=>e[0]).join("").toUpperCase()})]})}),r.jsx(j.ll,{className:"text-xl",children:e.name}),r.jsx(j.SZ,{children:e.email}),(0,r.jsxs)("div",{className:"flex justify-center gap-2 mt-2",children:[r.jsx(w.C,{variant:"vendor"===e.role?"default":"secondary",children:"vendor"===e.role?"Vendor":"Customer"}),e.isEmailVerified&&(0,r.jsxs)(w.C,{variant:"outline",className:"text-green-600",children:[r.jsx(_.Z,{className:"w-3 h-3 mr-1"}),"Verified"]})]})]}),(0,r.jsxs)(j.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(C.Z,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:e.phone})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(A.Z,{className:"w-4 h-4 text-gray-500"}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Joined ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(L.Z,{className:"w-4 h-4 text-gray-500"}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Last login ",new Date(e.lastLogin).toLocaleDateString()]})]}),r.jsx(Z.Z,{}),(0,r.jsxs)(h.z,{onClick:K,variant:"outline",className:"w-full",children:[r.jsx(F.Z,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})}),r.jsx("div",{className:"lg:col-span-2",children:(0,r.jsxs)(j.Zb,{children:[r.jsx(j.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx(j.ll,{children:"Profile Information"}),r.jsx(j.SZ,{children:"Update your personal information and address"})]}),o?(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(h.z,{onClick:()=>{g(!1),M(null),D(null),e&&B({name:e.name,phone:e.phone,address:{street:e.address.street,city:e.address.city,state:e.address.state,pincode:e.address.pincode}})},variant:"outline",size:"sm",children:[r.jsx(R.Z,{className:"w-4 h-4 mr-2"}),"Cancel"]}),(0,r.jsxs)(h.z,{onClick:X(J),disabled:N,size:"sm",children:[r.jsx(E.Z,{className:"w-4 h-4 mr-2"}),N?"Saving...":"Save Changes"]})]}):(0,r.jsxs)(h.z,{onClick:()=>g(!0),variant:"outline",size:"sm",children:[r.jsx(S.Z,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})}),(0,r.jsxs)(j.aY,{children:[z&&r.jsx(f.bZ,{variant:"destructive",className:"mb-4",children:r.jsx(f.X,{children:z})}),G&&(0,r.jsxs)(f.bZ,{className:"mb-4",children:[r.jsx(_.Z,{className:"h-4 w-4"}),r.jsx(f.X,{children:G})]}),(0,r.jsxs)("form",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(I.Z,{className:"w-5 h-5"}),"Personal Information"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(u._,{htmlFor:"name",children:"Full Name"}),r.jsx(p.I,{id:"name",...H("name"),disabled:!o,className:o?"":"bg-gray-50"}),$.name&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:$.name.message})]}),(0,r.jsxs)("div",{children:[r.jsx(u._,{htmlFor:"phone",children:"Phone Number"}),r.jsx(p.I,{id:"phone",...H("phone"),disabled:!o,className:o?"":"bg-gray-50"}),$.phone&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:$.phone.message})]})]})]}),r.jsx(Z.Z,{}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(V.Z,{className:"w-5 h-5"}),"Address Information"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[r.jsx(u._,{htmlFor:"street",children:"Street Address"}),r.jsx(p.I,{id:"street",...H("address.street"),disabled:!o,className:o?"":"bg-gray-50"}),$.address?.street&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:$.address.street.message})]}),(0,r.jsxs)("div",{children:[r.jsx(u._,{htmlFor:"city",children:"City"}),r.jsx(p.I,{id:"city",...H("address.city"),disabled:!o,className:o?"":"bg-gray-50"}),$.address?.city&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:$.address.city.message})]}),(0,r.jsxs)("div",{children:[r.jsx(u._,{htmlFor:"state",children:"State"}),r.jsx(p.I,{id:"state",...H("address.state"),disabled:!o,className:o?"":"bg-gray-50"}),$.address?.state&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:$.address.state.message})]}),(0,r.jsxs)("div",{children:[r.jsx(u._,{htmlFor:"pincode",children:"Pincode"}),r.jsx(p.I,{id:"pincode",...H("address.pincode"),disabled:!o,className:o?"":"bg-gray-50"}),$.address?.pincode&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:$.address.pincode.message})]})]})]}),r.jsx(Z.Z,{}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(k.Z,{className:"w-5 h-5"}),"Account Security"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:"Email Verification"}),r.jsx("p",{className:"text-sm text-gray-600",children:e.isEmailVerified?"Verified":"Not verified"})]}),r.jsx(w.C,{variant:e.isEmailVerified?"default":"secondary",children:e.isEmailVerified?"Verified":"Pending"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:"Phone Verification"}),r.jsx("p",{className:"text-sm text-gray-600",children:e.isPhoneVerified?"Verified":"Not verified"})]}),r.jsx(w.C,{variant:e.isPhoneVerified?"default":"secondary",children:e.isPhoneVerified?"Verified":"Pending"})]})]})]})]})]})]})})]})})]})}):null}},3856:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var r=a(7536);let t=(0,r.createProxy)(String.raw`C:\TaskFolder\my-center-\cripcocoede-it-tech\LOCAL-ZARURAT\LocalZaruratFinalUserUI\app\profile\page.tsx`),{__esModule:i,$$typeof:l}=t,d=t.default,n=d}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[2792,1297,2859,796,7024,3979,3773,570,2299,5119,6541,444,7052,7158,2065,3711],()=>a(1553));module.exports=r})();