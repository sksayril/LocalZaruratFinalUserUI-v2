exports.id=6541,exports.ids=[6541],exports.modules={2596:(e,t,a)=>{Promise.resolve().then(a.bind(a,6904)),Promise.resolve().then(a.bind(a,1962))},9203:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,9918,23)),Promise.resolve().then(a.t.bind(a,2057,23)),Promise.resolve().then(a.t.bind(a,6148,23)),Promise.resolve().then(a.t.bind(a,8359,23)),Promise.resolve().then(a.t.bind(a,1860,23)),Promise.resolve().then(a.t.bind(a,2427,23))},7936:(e,t,a)=>{"use strict";a.d(t,{MS:()=>r,RT:()=>f,TX:()=>u,a$:()=>i,c0:()=>h,ck:()=>l,gF:()=>d,hv:()=>g,pE:()=>m,pH:()=>s,th:()=>y,ts:()=>c});let o=process.env.NEXT_PUBLIC_API_BASE_URL||"https://api.localzarurat.com/api";class r extends Error{constructor(e,t,a){super(e),this.status=t,this.code=a,this.name="ApiError"}}async function n(e,t={}){try{let a=`${o}${e}`,n=await fetch(a,{headers:{"Content-Type":"application/json",...t.headers},...t}),i=await n.json();if(!n.ok)throw new r(i.message||`Request failed with status ${n.status}`,n.status,i.code);return i}catch(e){if(e instanceof r)throw e;if(e instanceof TypeError&&e.message.includes("fetch"))throw new r("Network error. Please check your connection.",0);throw new r("An unexpected error occurred.",500)}}async function i(e){return n("/auth/register",{method:"POST",body:JSON.stringify(e)})}async function s(e){return n("/auth/login",{method:"POST",body:JSON.stringify(e)})}async function c(e){let t=await n("/auth/me",{method:"GET",headers:{Authorization:`Bearer ${e}`}});return t.data}async function l(e,t){let a=await n("/auth/profile",{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:JSON.stringify(t)});return a.data}async function u(e){try{await n("/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${e}`}})}catch(e){console.warn("Logout API call failed:",e)}}async function d(e){return n("/auth/forgot-password",{method:"POST",body:JSON.stringify(e)})}async function h(e){return n("/auth/reset-password",{method:"POST",body:JSON.stringify(e)})}async function m(){let e=await n("/customer/categories",{method:"GET",next:{revalidate:0}});return e.data}async function g(e){if(!e||""===e.trim())throw new r("Main category ID is required",400);let t=await n(`/customer/categories/${e}/subcategories`,{method:"GET",next:{revalidate:0}});return t.data}async function f(e,t=1,a=10){if(!e||""===e.trim())throw new r("Subcategory ID is required",400);let o=await n(`/customer/subcategories/${e}/vendors?page=${t}&limit=${a}`,{method:"GET",next:{revalidate:0}});return{data:o.data,pagination:o.pagination}}async function y(e){if(!e||""===e.trim())throw new r("Vendor ID is required",400);let t=await n(`/customer/vendors/${e}`,{method:"GET",next:{revalidate:0}});return t.data}},6904:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AuthProvider:()=>s,useAuth:()=>c});var o=a(80),r=a(9885),n=a(7936);let i=(0,r.createContext)(void 0);function s({children:e}){let[t,a]=(0,r.useState)(null),[s,c]=(0,r.useState)(null),[l,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=async()=>{try{let e=localStorage.getItem("authToken");if(e){c(e);let t=await (0,n.ts)(e);a(t)}}catch(e){console.warn("Invalid token, clearing auth state:",e),localStorage.removeItem("authToken"),c(null),a(null)}finally{u(!1)}};e()},[]);let f=async(e,t)=>{try{h(!0),g(null);let o=await (0,n.pH)({email:e,password:t});localStorage.setItem("authToken",o.data.token),c(o.data.token),a(o.data.user)}catch(t){let e="Login failed. Please try again.";throw t instanceof n.MS?e=401===t.status?"Invalid email or password.":429===t.status?"Too many login attempts. Please try again later.":0===t.status?"Network error. Please check your connection.":t.message:t instanceof Error&&(e=t.message),g(e),Error(e)}finally{h(!1)}},y=async e=>{try{h(!0),g(null);let t=await (0,n.a$)(e);localStorage.setItem("authToken",t.data.token),c(t.data.token),a(t.data.user)}catch(t){let e="Registration failed. Please try again.";throw t instanceof n.MS?e=409===t.status?"An account with this email already exists.":400===t.status?"Please check your information and try again.":0===t.status?"Network error. Please check your connection.":t.message:t instanceof Error&&(e=t.message),g(e),Error(e)}finally{h(!1)}},p=async()=>{try{h(!0),s&&await (0,n.TX)(s)}catch(e){console.warn("Logout API call failed:",e)}finally{localStorage.removeItem("authToken"),c(null),a(null),h(!1)}},w=async()=>{if(s)try{let e=await (0,n.ts)(s);a(e)}catch(e){console.warn("Failed to refresh user data:",e),await p()}};return o.jsx(i.Provider,{value:{user:t,token:s,loading:l,isLoading:d,login:f,register:y,logout:p,clearError:()=>{g(null)},error:m,isAuthenticated:!!t&&!!s,refreshUser:w},children:e})}function c(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1962:(e,t,a)=>{"use strict";a.r(t),a.d(t,{LocationProvider:()=>i,useLocation:()=>s});var o=a(80),r=a(9885);let n=(0,r.createContext)(void 0);function i({children:e}){let[t,a]=(0,r.useState)(null),[i,s]=(0,r.useState)(null),[c,l]=(0,r.useState)(null),[u,d]=(0,r.useState)("prompt"),[h,m]=(0,r.useState)(!1),[g,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(!navigator.geolocation){d("unsupported"),f("Geolocation is not supported by this browser.");return}"permissions"in navigator&&navigator.permissions.query({name:"geolocation"}).then(e=>{d(e.state),e.onchange=()=>{d(e.state)}});let e=localStorage.getItem("userLocation");if(e)try{let t=JSON.parse(e);a(t.location),s(t.locationName),l(t.geocodedLocation)}catch(e){console.error("Error parsing saved location:",e)}},[]);let y=async(e,t)=>{try{let a=await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${e}+${t}&key=209d17df24024d31bdb7645501875d4c&language=en`);if(!a.ok)throw Error(`Geocoding failed: ${a.status}`);let o=await a.json();if(o.results&&o.results.length>0){let e=o.results[0],t=e.components;return{city:t.city||t.town||t.village,state:t.state,country:t.country,formatted:e.formatted}}throw Error("No geocoding results found")}catch(e){throw console.error("Geocoding error:",e),e}},p=async()=>{if(!navigator.geolocation){f("Geolocation is not supported by this browser.");return}m(!0),f(null);try{await w()}catch(e){f(e instanceof Error?e.message:"Failed to get location")}finally{m(!1)}},w=async()=>new Promise((e,t)=>{if(!navigator.geolocation){t(Error("Geolocation is not supported"));return}navigator.geolocation.getCurrentPosition(async o=>{try{let t={latitude:o.coords.latitude,longitude:o.coords.longitude,accuracy:o.coords.accuracy,timestamp:o.timestamp};a(t),d("granted");let r=await y(t.latitude,t.longitude);l(r);let n=r.city||r.formatted||`${t.latitude.toFixed(4)}, ${t.longitude.toFixed(4)}`;s(n),localStorage.setItem("userLocation",JSON.stringify({location:t,locationName:n,geocodedLocation:r})),e()}catch(e){t(e)}},e=>{let a="Failed to get location";switch(e.code){case e.PERMISSION_DENIED:a="Location permission denied",d("denied");break;case e.POSITION_UNAVAILABLE:a="Location information unavailable";break;case e.TIMEOUT:a="Location request timed out";break;default:a="Unknown location error"}f(a),t(Error(a))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e5})});return o.jsx(n.Provider,{value:{location:t,locationName:i,geocodedLocation:c,permissionStatus:u,isLoading:h,error:g,requestPermission:p,getCurrentLocation:w,clearLocation:()=>{a(null),s(null),l(null),localStorage.removeItem("userLocation")},geocodeLocation:y},children:e})}function s(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useLocation must be used within a LocationProvider");return e}},959:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y,metadata:()=>f});var o=a(8144),r=a(1100),n=a.n(r);a(7272);var i=a(7536);let s=(0,i.createProxy)(String.raw`C:\TaskFolder\my-center-\cripcocoede-it-tech\LOCAL-ZARURAT\LocalZaruratFinalUserUI\lib\location-context.tsx`),{__esModule:c,$$typeof:l}=s;s.default;let u=s.LocationProvider;s.useLocation;let d=(0,i.createProxy)(String.raw`C:\TaskFolder\my-center-\cripcocoede-it-tech\LOCAL-ZARURAT\LocalZaruratFinalUserUI\lib\auth-context.tsx`),{__esModule:h,$$typeof:m}=d;d.default;let g=d.AuthProvider;d.useAuth;let f={title:{default:"Local Zarurat - Find Local Services Near You",template:"%s | Local Zarurat"},description:"Discover and connect with the best local services in your area. From restaurants to wedding planners, find everything you need at Local Zarurat.",keywords:["local services","food delivery","wedding planning","home services","beauty services","india","local business"],authors:[{name:"Local Zarurat"}],creator:"Local Zarurat",publisher:"Local Zarurat",formatDetection:{email:!1,address:!1,telephone:!1},metadataBase:new URL("https://localzarurat.com"),openGraph:{type:"website",locale:"en_IN",url:"https://localzarurat.com",title:"Local Zarurat - Find Local Services Near You",description:"Discover and connect with the best local services in your area. From restaurants to wedding planners, find everything you need at Local Zarurat.",siteName:"Local Zarurat"},twitter:{card:"summary_large_image",title:"Local Zarurat - Find Local Services Near You",description:"Discover and connect with the best local services in your area. From restaurants to wedding planners, find everything you need.",creator:"@localzarurat"},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}},verification:{google:"your-google-verification-code"}};function y({children:e}){return(0,o.jsxs)("html",{lang:"en",children:[(0,o.jsxs)("head",{children:[o.jsx("link",{rel:"preconnect",href:"https://images.unsplash.com"}),o.jsx("link",{rel:"preconnect",href:"https://img.icons8.com"}),o.jsx("link",{rel:"dns-prefetch",href:"https://images.unsplash.com"}),o.jsx("link",{rel:"dns-prefetch",href:"https://img.icons8.com"}),o.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, viewport-fit=cover"}),o.jsx("meta",{httpEquiv:"x-dns-prefetch-control",content:"on"})]}),(0,o.jsxs)("body",{className:`${n().className} antialiased`,children:[o.jsx(g,{children:o.jsx(u,{children:o.jsx("main",{className:"relative",children:e})})}),o.jsx("link",{rel:"preload",as:"image",href:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4",type:"image/jpeg"})]})]})}},7272:()=>{}};